<ion-view view-title="Knowledge List">

	<ion-nav-buttons side="left">
		<button ui-sref="tab.knowledge-create" class="button icon ion-android-add-circle"></button>
	</ion-nav-buttons>

	<ion-nav-buttons side="right">
    <button class="button icon ion-android-more-vertical" ng-click="menu($event)"></button>
  </ion-nav-buttons>

	<ion-content padding="true">
		<ion-refresher  pulling-icon="ion-arrow-down-b" on-refresh="refresh()"></ion-refresher>
		<ion-list>
			<label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input ng-model="search.value" type="search" placeholder="Search" ng-change="scrollTop()">
        <button ng-if="search.value" on-touch="search.value=''" class="button button-stable button-inline button-clear icon-center ion-close">
       </button>
      </label>
			<ion-item ui-sref="tab.knowledge-detail({ id: knowledge.id })" ng-repeat="knowledge in knowledges | orderBy:'tag' | filter:search.value | filter: currentBusiness.id" class="item item-button-right item-avatar-left">
				<img ng-src="img/tags/{{ knowledge.tag }}.png">
				<h2>{{ knowledge.name }}</h2>
				<div class="buttons">
				  <ion-option-button ui-sref="tab.knowledge-update({id: knowledge.id})" class="button button-dark button-outline icon-center ion-edit"></ion-option-button>
				  <ion-option-button ui-sref="tab.knowledge-delete({id: knowledge.id})" class="button button-dark button-outline icon-center ion-android-delete"></ion-option-button>
				</div>
			</ion-item>
		</ion-list>
	</ion-content>

	<ion-footer-bar align-title="left" keyboard-attach class="bar-dark">
    <h1 class="title">Platxo Business</h1>
		<button on-touch="calculatorOpenModal()" class="button icon ion-calculator pull-right"></button>
  </ion-footer-bar>
</ion-view>
